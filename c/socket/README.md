# 为什么tcp、udp通信都叫socket编程？

1. socket是一种通信机制，是操作系统提供的一种接口，应用程序可以通过它向网络发出请求或者接收响应。

2. tcp和udp都是socket的一种实现方式，tcp是面向连接的，udp是无连接的。

3. tcp和udp的区别在于传输方式和可靠性。tcp提供可靠的字节流服务，也就是说，一旦一个字节被发送出去，接收方必须确认收到这个字节，否则重发。udp则是不可靠的报文服务，也就是说，一旦一个报文被发送出去，接收方并不保证一定能收到，也不保证顺序。

4. 通信双方必须事先建立连接，tcp的连接建立需要三次握手，udp不需要。

5. tcp和udp的应用场景不同。tcp适用于要求可靠传输的应用，比如文件传输、电子邮件、远程登录等；udp则适用于实时通信、广播通信等。

TCP：在使用 socket() 函数创建套接字时，第二个参数传递的是 SOCK_STREAM，表示创建的是面向连接的 TCP 套接字。如 sockfd = socket(AF_INET, SOCK_STREAM, 0); 。
UDP：当使用 socket() 函数创建套接字时，第二个参数传递的是 SOCK_DGRAM，表明创建的是无连接的 UDP 套接字，例如 sockfd = socket(AF_INET, SOCK_DGRAM, 0); 。

TCP：如果代码中使用了 socket() 函数创建套接字后，紧接着调用了 connect() 函数去连接服务器，并且在接收和发送数据时使用了 recv() 和 send() 函数或者 read() 和 write() 函数 ，那么大概率是 TCP 通信。
UDP：如果代码中使用了 socket() 函数创建套接字后，并没有调用 connect() 函数，并且在接收和发送数据时使用了 recvfrom() 和 sendto() 函数或者 recvmsg() 和 sendmsg() 函数，那么大概率是 UDP 通信。

比如，在实时视频会议系统中，需要实时传输音频和视频数据，并且对传输的实时性和顺序有严格要求，使用 TCP 编程可以自定义协议来满足这些需求。
TCP 支持长连接，在建立连接后，可以长时间保持连接状态，进行多次数据交互，减少了反复创建和拆除连接的开销。特别是在需要频繁进行数据传输的场景中，如在线游戏服务器与客户端之间的通信，长连接可以大大提高通信效率，降低延迟。
HTTP 最初设计是基于请求 - 响应模式的短连接，每次请求都需要建立连接，完成请求后即关闭连接。虽然现在有了 HTTP/1.1 的持久连接和 HTTP/2 的多路复用等改进，但在处理大量连续的实时数据传输时，效率仍然不如 TCP 长连接。

c++进行socket编程的优势主要在：类封装、析构函数、异常处理、异步IO、多线程等方面。

golang进行socket编程的优势主要在：简单、高效、安全、并发性强、跨平台等方面。相比于c有更好的包管理、接口设计、内存管理等优势。

简单应用场景下：如果只是实现一个简单的 echo 服务器或者简单的数据传输功能，Go 语言凭借其简洁高效的开发方式，性能可能与 C 语言相差不大，甚至在开发效率上更有优势。在这种情况下，性能下降可能在 10% - 30% 左右，但这种估算非常粗略，且依赖于具体的硬件环境和实现细节。
高并发复杂场景下：当处理大量并发连接和复杂的业务逻辑时，C 语言由于其对底层的精细控制和高效的内存管理，可能会比 Go 语言表现出更好的性能。性能差距可能会达到 50% 甚至更多，但这也不是绝对的，Go 语言的协程模型在某些情况下也能处理得很好，而且 Go 语言的开发效率优势在这种场景下会更加明显，开发周期可能会比 C 语言短很多。